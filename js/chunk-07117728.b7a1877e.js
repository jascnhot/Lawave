(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07117728"],{"13d7":function(e,t,a){"use strict";var n=a("7a23"),o=a("d829"),s=a.n(o),c={class:"border d-none d-md-block border-primary d-flex flex-column align-items-center rounded rounded-3 shadow-md"},i={class:"lawyer-photo img-fluid text-center my-5"},r={for:"photoUpload",class:"photoUpload"},l={key:0,class:"rounded rounded-pill mug-shot-md",src:s.a,alt:"律師照片"},d=["src"],b={class:"lawyer-information text-center"},u=Object(n["j"])("p",{class:"fs-7 mb-1 text-info"}," Welcome ",-1),m={class:"fs-4 text-secondary"},j={class:"star_box d-flex align-items-center justify-content-center mb-md-6"},p={class:"fs-7 ms-1"},f={class:"center-side-menu mb-5 px-4"},h=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("path",{d:"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM20 33C18.34 33 17 31.66 17 30H23C23 31.66 21.66 33 20 33ZM30 28H10V26L12 24V18.78C12 14.54 14.06 10.94 18 10V9C18 7.86 18.86 7 20 7C21.14 7 22 7.86 22 9V10C25.94 10.94 28 14.56 28 18.78V24L30 26V28Z",fill:"#172A39"})],-1),O=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary pe-1"},"資格認證",-1),g=Object(n["j"])("svg",{width:"22",height:"19",viewBox:"0 0 22 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("path",{d:"M0 19H22L11 0L0 19ZM12 16H10V14H12V16ZM12 12H10V8H12V12Z",fill:"#C4C4C4"})],-1),w=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("path",{d:"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM20 6C23.32 6 26 8.68 26 12C26 15.32 23.32 18 20 18C16.68 18 14 15.32 14 12C14 8.68 16.68 6 20 6ZM20 34.4C15 34.4 10.58 31.84 8 27.96C8.06 23.98 16 21.8 20 21.8C23.98 21.8 31.94 23.98 32 27.96C29.42 31.84 25 34.4 20 34.4Z",fill:"#172A39"})],-1),v=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"個人資料",-1),y=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("circle",{cx:"20",cy:"20",r:"20",fill:"#172A39"}),Object(n["j"])("path",{d:"M28.5902 18.0001H20.6502C19.7002 15.3101 16.8902 13.5001 13.7702 14.1201C11.4802 14.5801 9.62018 16.4201 9.14018 18.7001C8.32018 22.5801 11.2602 26.0001 15.0002 26.0001C17.6102 26.0001 19.8302 24.3301 20.6502 22.0001H21.0002L22.2902 23.2901C22.6802 23.6801 23.3102 23.6801 23.7002 23.2901L25.0002 22.0001L26.2902 23.2901C26.6802 23.6801 27.3202 23.6801 27.7102 23.2901L30.3002 20.6801C30.6902 20.2901 30.6902 19.6501 30.2902 19.2601L29.3002 18.2901C29.1002 18.1001 28.8502 18.0001 28.5902 18.0001ZM15.0002 23.0001C13.3502 23.0001 12.0002 21.6501 12.0002 20.0001C12.0002 18.3501 13.3502 17.0001 15.0002 17.0001C16.6502 17.0001 18.0002 18.3501 18.0002 20.0001C18.0002 21.6501 16.6502 23.0001 15.0002 23.0001Z",fill:"white"})],-1),C=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"帳戶安全",-1),x=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("circle",{cx:"20",cy:"20",r:"20",fill:"#172A39"}),Object(n["j"])("path",{d:"M20 30H13C11.89 30 11 29.1 11 28L11.01 14C11.01 12.9 11.89 12 13 12H14V11C14 10.45 14.45 10 15 10C15.55 10 16 10.45 16 11V12H24V11C24 10.45 24.45 10 25 10C25.55 10 26 10.45 26 11V12H27C28.1 12 29 12.9 29 14V20H27V18H13V28H20V30ZM30.13 24.99L30.84 24.28C31.23 23.89 31.23 23.26 30.84 22.87L30.13 22.16C29.74 21.77 29.11 21.77 28.72 22.16L28.01 22.87L30.13 24.99ZM29.42 25.7L24.41 30.71C24.23 30.89 23.97 31 23.71 31H22.5C22.22 31 22 30.78 22 30.5V29.29C22 29.02 22.11 28.77 22.29 28.58L27.3 23.57L29.42 25.7Z",fill:"white"})],-1),L=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"預約中心",-1);function M(e,t,a,o,s,M){var k=Object(n["K"])("Rating"),D=Object(n["K"])("router-link");return Object(n["C"])(),Object(n["i"])("div",c,[Object(n["j"])("div",i,[Object(n["j"])("label",r,[null===s.image?(Object(n["C"])(),Object(n["i"])("img",l)):(Object(n["C"])(),Object(n["i"])("img",{key:1,name:"file",class:"rounded rounded-pill mug-shot-md",src:s.image,alt:"律師照片"},null,8,d))]),Object(n["j"])("input",{class:"d-none",type:"file",id:"photoUpload",ref:"lawyerPhoto",onChange:t[0]||(t[0]=function(){return M.uploadFile&&M.uploadFile.apply(M,arguments)})},null,544)]),Object(n["j"])("div",b,[u,Object(n["j"])("h3",m,Object(n["O"])(s.lawyerData.lastName)+Object(n["O"])(s.lawyerData.firstName),1),Object(n["j"])("div",j,[Object(n["m"])(k,{class:"text-primary",modelValue:s.lawyerData.starAvg,readonly:!0,stars:5,cancel:!1},null,8,["modelValue"]),Object(n["j"])("span",p,"("+Object(n["O"])(s.lawyerData.starAvg)+")",1)])]),Object(n["j"])("ul",f,[Object(n["j"])("li",null,[Object(n["m"])(D,{class:"d-block px-3 py-4 border-bottom border-top border-2",to:{name:"LawyerCertification"}},{default:Object(n["Y"])((function(){return[h,O,g]})),_:1})]),Object(n["j"])("li",null,[Object(n["m"])(D,{class:"d-block px-3 py-4 border-bottom border-2",to:{name:"LawyerEditPage"}},{default:Object(n["Y"])((function(){return[w,v]})),_:1})]),Object(n["j"])("li",null,[Object(n["m"])(D,{class:"d-block px-3 py-4 border-bottom border-2",to:{name:"LawyerPasswordSetting"}},{default:Object(n["Y"])((function(){return[y,C]})),_:1})]),Object(n["j"])("li",null,[Object(n["m"])(D,{class:"d-block px-3 py-4 border-bottom border-2",to:{name:"LawyerAppointmentCenter"}},{default:Object(n["Y"])((function(){return[x,L]})),_:1})])])])}a("b0c0"),a("c1f9");var k=a("9870"),D={data:function(){return{lawyerData:{},image:null}},mounted:function(){this.getData(),this.getPhotoData()},methods:{getPhotoData:function(){var e=this;Object(k["s"])().then((function(t){console.log(t.data),e.image=t.data.shot})).catch((function(e){console.log(e)}))},getData:function(){var e=this;Object(k["u"])().then((function(t){console.log(t),e.lawyerData=t.data,e.presetDataStatus(t)})).catch((function(e){console.error(e)}))},presetDataStatus:function(e){null===this.lawyerData.firstName&&null===this.lawyerData.lastName&&(this.lawyerData.firstName="尚未填寫名稱",this.lawyerData.lastName=""),null===this.lawyerData.starAvg?this.lawyerData.starAvg=0:this.lawyerData.starAvg=Math.ceil(e.data.starAvg)},uploadFile:function(e){var t=this,a=e.target.files.item(0),n=new FileReader;/\.(jpe?g|png|gif)$/i.test(a.name)&&(n.addEventListener("load",(function(e){t.image=e.target.result})),n.readAsDataURL(a),this.onSubmit())},onSubmit:function(){var e=new FormData;e.append("file",this.$refs.lawyerPhoto.files[0]),console.log(Object.fromEntries(e));var t=localStorage.getItem("lawavaToken");this.axios({method:"put",url:"https://lawave.rocket-coding.com/mem/shotPhoto",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e.response),window.showToast.showErrorToast("圖片上傳失敗")}))}}},S=a("6b0d"),N=a.n(S);const P=N()(D,[["render",M]]);t["a"]=P},"1dde":function(e,t,a){var n=a("d039"),o=a("b622"),s=a("2d00"),c=o("species");e.exports=function(e){return s>=51||!n((function(){var t=[],a=t.constructor={};return a[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"25f0":function(e,t,a){"use strict";var n=a("5e77").PROPER,o=a("6eeb"),s=a("825a"),c=a("577e"),i=a("d039"),r=a("ad6d"),l="toString",d=RegExp.prototype,b=d[l],u=i((function(){return"/a/b"!=b.call({source:"a",flags:"b"})})),m=n&&b.name!=l;(u||m)&&o(RegExp.prototype,l,(function(){var e=s(this),t=c(e.source),a=e.flags,n=c(void 0===a&&e instanceof RegExp&&!("flags"in d)?r.call(e):a);return"/"+t+"/"+n}),{unsafe:!0})},3519:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("99af");var n=a("7a23"),o=a("d829"),s=a.n(o),c={class:"container pb-11"},i={class:"row justify-content-between position-relative mt-md-11"},r={class:"col-md-3"},l={class:"col-12 col-md-9 d-flex flex-column justify-content-between border border-primary rounded rounded-3 shadow-sm g-0"},d={class:"d-flex justify-content-between align-items-center rounded-top-3 py-3 px-4 bg-primary shadow-sm"},b={class:"chatroom-name d-flex align-items-center",id:"test"},u={key:0,class:"rounded rounded-pill chatroom-img",src:s.a,alt:"聊天室對方照片"},m=["src"],j={class:"ms-3 mb-0"},p={class:"chatroom-time"},f=Object(n["j"])("span",{class:"material-icons align-middle"}," alarm ",-1),h=Object(n["j"])("span",{class:"material-icons align-middle"}," logout ",-1),O=Object(n["l"])(" 結束諮詢 "),g=[h,O],w={class:"chatroom-content flex-grow-1 py-3 px-4",id:"chatroomContent"},v={class:"d-inline-block rounded-pill border border-1 me-2 py-1 px-3"},y={key:0,class:"row mb-3"},C={class:"col-auto"},x={key:0,class:"rounded rounded-pill chatroom-img",src:s.a,alt:"聊天室對方照片"},L=["src"],M={class:"col-auto"},k={class:"fs-7"},D={class:"message-txt"},S={class:"p-1 other-txt d-inline-block"},N={class:"fs-7"},P={key:1,class:"row mb-3 flex-row-reverse text-end"},V={class:"col-12"},A={class:"fs-7 d-none"},E={class:"message-txt"},I={class:"fs-7"},H={class:"p-1 user-txt d-inline-block"},T={class:"d-flex rounded-bottom-3 py-3 px-4 bg-primary shadow-sm align-items-center"},Z=Object(n["j"])("span",{class:"material-icons align-middle"}," send ",-1),R=[Z],F={class:"modal fade",id:"endCheckModal",tabindex:"-1","aria-labelledby":"endCheckModalLabel","aria-hidden":"true",ref:"endCheckModal"},_={class:"modal-dialog"},B={class:"modal-content"},U=Object(n["k"])('<div class="position-relative"><button type="button" class="m-1 m-mb-3 btn fs-4 position-absolute top-0 end-0" data-bs-dismiss="modal" aria-label="Close"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black"></path></svg></button><h2 class="modal-title text-center mt-3 mt-md-7 mb-2 text-secondary" id="endCheckModalLabel"> 是否確定要結束諮詢</h2><div class="line bg-primary mb-3"></div></div><div class="modal-body"><div class="row"><div class="col-md-8 offset-md-2 text-center"> 您是否確定要結束此次諮詢 </div></div></div>',2),K={class:"modal-footer border-0 d-flex justify-content-center mb-md-7"},Y=Object(n["j"])("button",{type:"button",class:"btn btn-outline-secondary me-2","data-bs-dismiss":"modal"},[Object(n["j"])("span",{class:"material-icons align-middle"},"close"),Object(n["l"])(" 取消 ")],-1),G=Object(n["j"])("span",{class:"material-icons align-middle"},"done",-1),q=Object(n["l"])(" 確定 "),z=[G,q],J={class:"modal fade",id:"scoreModal",ref:"scoreModal",tabindex:"-1","aria-labelledby":"scoreModal","aria-hidden":"true"},W={class:"modal-dialog"},X={class:"modal-content"},Q=Object(n["k"])('<div class="position-relative"><button type="button" class="m-1 m-md-3 btn fs-4 position-absolute top-0 end-0" data-bs-dismiss="modal" aria-label="Close"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black"></path></svg></button><h2 class="modal-title text-center mt-3 mt-md-7 mb-2 text-secondary" id="scoreModalLabel"> 回饋評價</h2><div class="line bg-primary"></div></div>',1),ee={class:"modal-body pt-5"},te={class:"row"},ae={class:"col d-flex flex-column align-items-center offset-md-1 col-md-10"},ne={key:0,class:"d-flex flex-wrap mb-3 justify-content-center"},oe=Object(n["j"])("p",null,"感謝您選擇使用本媒合平台，請與我們分享您的使用經驗，幫我們製作出更符合您需求的法學電波",-1),se=Object(n["j"])("p",null,"媒合過程滿意程度：",-1),ce={key:1,class:"d-flex flex-wrap mb-3 justify-content-center"},ie=Object(n["j"])("p",null,"感謝您選擇使用法學電波，請與我們分享您此次律師諮詢體驗，回饋給律師一起創造更好的體驗服務",-1),re=Object(n["j"])("p",null,"律師諮詢滿意程度：",-1),le={class:"modal-footer border-0 text-center d-flex justify-content-center mb-7"},de=Object(n["j"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 下次再填 ",-1);function be(e,t,a,o,s,h){var O=this,Z=Object(n["K"])("Header"),$=Object(n["K"])("CenterNav"),G=Object(n["K"])("LawyerSidebar"),q=Object(n["K"])("PeopleSidebar"),be=Object(n["K"])("Footer"),ue=Object(n["K"])("Rating");return Object(n["C"])(),Object(n["i"])(n["a"],null,[Object(n["m"])(Z),Object(n["j"])("main",null,[Object(n["m"])($),Object(n["j"])("div",c,[Object(n["j"])("div",i,[Object(n["j"])("div",r,[s.isLawyer?(Object(n["C"])(),Object(n["g"])(G,{key:0})):(Object(n["C"])(),Object(n["g"])(q,{key:1}))]),Object(n["j"])("div",l,[Object(n["j"])("div",d,[Object(n["j"])("div",b,[null===s.otherSideData.shot?(Object(n["C"])(),Object(n["i"])("img",u)):(Object(n["C"])(),Object(n["i"])("img",{key:1,class:"rounded rounded-pill chatroom-img",src:s.otherSideData.shot,alt:"聊天室對方照片"},null,8,m)),Object(n["j"])("h3",j,Object(n["O"])(s.otherSideData.lastName)+Object(n["O"])(s.otherSideData.firstName),1)]),Object(n["j"])("div",p,[f,Object(n["j"])("span",null,Object(n["O"])(s.time),1),Object(n["j"])("button",{class:"btn btn-secondary ms-3",type:"button",onClick:t[0]||(t[0]=function(e){return O.endCheckModal.show()})},g)])]),Object(n["j"])("div",w,[(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(s.welcomeMessageList,(function(e){return Object(n["C"])(),Object(n["i"])("div",{class:"system-hint d-flex flex-column align-items-center",key:e},[Object(n["j"])("p",v,Object(n["O"])(e.welcomeMessage),1)])})),128)),(Object(n["C"])(!0),Object(n["i"])(n["a"],null,Object(n["I"])(s.messageList,(function(e){return Object(n["C"])(),Object(n["i"])("div",{class:"message-list",key:e},[e.name==="".concat(O.otherSideData.lastName).concat(O.otherSideData.firstName)?(Object(n["C"])(),Object(n["i"])("div",y,[Object(n["j"])("div",C,[null===e.shot?(Object(n["C"])(),Object(n["i"])("img",x)):(Object(n["C"])(),Object(n["i"])("img",{key:1,class:"rounded rounded-pill chatroom-img",src:e.shot,alt:"聊天室對方照片"},null,8,L))]),Object(n["j"])("div",M,[Object(n["j"])("h4",k,Object(n["O"])(e.name),1),Object(n["j"])("div",D,[Object(n["j"])("p",S,Object(n["O"])(e.message),1),Object(n["j"])("span",N,Object(n["O"])(e.msgTime),1)])])])):(Object(n["C"])(),Object(n["i"])("div",P,[Object(n["j"])("div",V,[Object(n["j"])("h4",A,Object(n["O"])(e.name),1),Object(n["j"])("div",E,[Object(n["j"])("span",I,Object(n["O"])(e.msgTime),1),Object(n["j"])("p",H,Object(n["O"])(e.message),1)])])]))])})),128))]),Object(n["j"])("div",T,[Object(n["Z"])(Object(n["j"])("input",{id:"chatroomInput",type:"text",class:"form-control rounded rounded-3 py-2 me-3",placeholder:"輸入訊息","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.inputMessage=e}),onKeydown:t[2]||(t[2]=Object(n["ab"])(Object(n["bb"])((function(){return h.sendMessage&&h.sendMessage.apply(h,arguments)}),["stop","prevent"]),["enter"]))},null,544),[[n["U"],s.inputMessage]]),Object(n["j"])("button",{type:"button",class:"btn btn-secondary send-btn rounded-pill",onClick:t[3]||(t[3]=function(){return h.sendMessage&&h.sendMessage.apply(h,arguments)})},R)])])])])]),Object(n["m"])(be),Object(n["j"])("div",F,[Object(n["j"])("div",_,[Object(n["j"])("div",B,[U,Object(n["j"])("div",K,[Y,Object(n["j"])("button",{type:"button",class:"btn btn-secondary",onClick:t[4]||(t[4]=function(){return h.endChat&&h.endChat.apply(h,arguments)})},z)])])])],512),Object(n["j"])("div",J,[Object(n["j"])("div",W,[Object(n["j"])("div",X,[Q,Object(n["j"])("div",ee,[Object(n["j"])("div",te,[Object(n["j"])("div",ae,[s.isLawyer?(Object(n["C"])(),Object(n["i"])("div",ne,[oe,se,Object(n["m"])(ue,{class:"text-primary",modelValue:s.star,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.star=e}),cancel:!1},null,8,["modelValue"])])):(Object(n["C"])(),Object(n["i"])("div",ce,[ie,re,Object(n["m"])(ue,{class:"text-primary",modelValue:s.star,"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.star=e}),cancel:!1},null,8,["modelValue"])])),Object(n["Z"])(Object(n["j"])("textarea",{class:"rounded",cols:"30",rows:"4","onUpdate:modelValue":t[7]||(t[7]=function(e){return s.opinion=e})},null,512),[[n["U"],s.opinion]])])])]),Object(n["j"])("div",le,[de,Object(n["j"])("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=function(){return h.putScore&&h.putScore.apply(h,arguments)})}," 送出評價 ")])])])],512)],64)}a("a9e3"),a("d3b7"),a("25f0");var ue=a("13d7"),me=a("fd2d"),je=a("0418"),pe=a("feea"),fe=a("8873"),he=a("9870"),Oe=a("7c2b"),ge=a.n(Oe),we={components:{Header:je["a"],PeopleSidebar:fe["a"],LawyerSidebar:ue["a"],Footer:me["a"],CenterNav:pe["a"]},data:function(){return{isLawyer:!1,inputMessage:"",connection:"",chat:null,messageList:[],id:"",userData:{},otherSideData:{},welcomeMessageList:[],name:"",time:"",scoreModal:{},endCheckModal:{},star:0,opinion:"",intervalID:""}},created:function(){var e=this;this.checkStatus(),this.id=this.$route.query.id,this.getData(),this.intervalID=setInterval((function(){return e.setTime()}),1e3)},mounted:function(){this.initData(),this.scoreModal=new ge.a(this.$refs.scoreModal),this.endCheckModal=new ge.a(this.$refs.endCheckModal)},methods:{initData:function(){var e=this,t=$.connection.chatHub;$.connection.hub.url="https://lawave.rocket-coding.com/signalr",t.client.addNewMessageToPage=function(t){var a={};a.welcomeMessage="歡迎".concat(t,"進入聊天室"),console.log(a),e.welcomeMessageList.push(a)},t.client.register=function(e){console.log("register："+e)},t.client.topople=function(t,a,n){var o={};o.shot=e.otherSideData.shot,o.name=t,o.message=a,o.msgTime=n,e.messageList.push(o);var s=$("#chatroomContent");s.animate({scrollTop:$(document).height()},"slow")},$.connection.hub.start().done((function(){e.chat=t,t.server.start(Number(e.id),e.isLawyer),console.log("start")}))},getData:function(){var e=this;Object(he["h"])("api/chatuserinfo/".concat(this.id)).then((function(t){console.log(t),e.userData=t.data.Senderinfo[0],e.otherSideData=t.data.Recipientinfo[0]})).catch((function(e){console.error(e)}))},checkStatus:function(){var e=this;Object(he["d"])().then((function(t){e.isLawyer=t.data.isLawyer})).catch((function(e){console.error(e)}))},setTime:function(){var e=Number(this.$route.query.startTimestamp),t=(new Date).getTime(),a=e+36e5,n=a-t,o=parseInt(n/1e3/60).toString();o<10&&(o="0"+o);var s=(parseInt(n/1e3)-60*o).toString();s<10&&(s="0"+s),this.time=o+":"+s,0===parseInt(o)&&0===parseInt(s)&&this.endChat()},sendMessage:function(){""!==this.inputMessage&&this.chat.server.privateSendMsg(Number(this.id),this.inputMessage,this.isLawyer),this.inputMessage=""},endChat:function(){this.time="00 : 00",clearInterval(this.intervalID),this.endCheckModal.hide(),$("#chatroomInput").attr("readonly","readonly"),this.scoreModal.show()},putScore:function(){var e=this,t={};0!==this.star||""!==this.opinion?(t=this.isLawyer?{lawaveStar:this.star,lawaveOpinion:this.opinion}:{lawyerStar:this.star,lawyerOpinion:this.opinion},Object(he["E"])("api/lawyerOpinion/".concat(this.id),t).then((function(t){console.log(t),e.scoreModal.hide(),e.goAppointmentRecord()})).catch((function(e){console.error(e)}))):window.showToast.showErrorToast("請填寫評分")},goAppointmentRecord:function(){!0===this.isLawyer?this.$router.push({name:"LawyerAppointmentRecord"}):this.$router.push({name:"PeopleAppointmentCenter"})}}},ve=a("6b0d"),ye=a.n(ve);const Ce=ye()(we,[["render",be]]);t["default"]=Ce},"408a":function(e,t){var a=1..valueOf;e.exports=function(e){return a.call(e)}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),o=a("577e"),s=a("5899"),c="["+s+"]",i=RegExp("^"+c+c+"*"),r=RegExp(c+c+"*$"),l=function(e){return function(t){var a=o(n(t));return 1&e&&(a=a.replace(i,"")),2&e&&(a=a.replace(r,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},7156:function(e,t,a){var n=a("1626"),o=a("861d"),s=a("d2bb");e.exports=function(e,t,a){var c,i;return s&&n(c=t.constructor)&&c!==a&&o(i=c.prototype)&&i!==a.prototype&&s(e,i),e}},8418:function(e,t,a){"use strict";var n=a("a04b"),o=a("9bf2"),s=a("5c6c");e.exports=function(e,t,a){var c=n(t);c in e?o.f(e,c,s(0,a)):e[c]=a}},8873:function(e,t,a){"use strict";var n=a("7a23"),o=a("d829"),s=a.n(o),c={class:"border d-none d-md-block border-primary d-flex flex-column align-items-center rounded rounded-3 shadow-md"},i={class:"people-photo img-fluid text-center my-5"},r={for:"photo-upload"},l={key:0,class:"rounded rounded-pill mug-shot-md",src:s.a,alt:"民眾照片"},d=["src"],b={class:"people-information text-center"},u=Object(n["j"])("p",{class:"fs-7 mb-1 text-info"}," Welcome ",-1),m={class:"fs-4 text-secondary"},j=Object(n["l"])("我的關注 "),p={class:"fs-7"},f={class:"center-side-menu mb-5 px-4"},h=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("path",{d:"M20 0C8.96 0 0 8.96 0 20C0 31.04 8.96 40 20 40C31.04 40 40 31.04 40 20C40 8.96 31.04 0 20 0ZM20 6C23.32 6 26 8.68 26 12C26 15.32 23.32 18 20 18C16.68 18 14 15.32 14 12C14 8.68 16.68 6 20 6ZM20 34.4C15 34.4 10.58 31.84 8 27.96C8.06 23.98 16 21.8 20 21.8C23.98 21.8 31.94 23.98 32 27.96C29.42 31.84 25 34.4 20 34.4Z",fill:"#172A39"})],-1),O=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"個人資料",-1),g=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("circle",{cx:"20",cy:"20",r:"20",fill:"#172A39"}),Object(n["j"])("path",{d:"M28.5902 18.0001H20.6502C19.7002 15.3101 16.8902 13.5001 13.7702 14.1201C11.4802 14.5801 9.62018 16.4201 9.14018 18.7001C8.32018 22.5801 11.2602 26.0001 15.0002 26.0001C17.6102 26.0001 19.8302 24.3301 20.6502 22.0001H21.0002L22.2902 23.2901C22.6802 23.6801 23.3102 23.6801 23.7002 23.2901L25.0002 22.0001L26.2902 23.2901C26.6802 23.6801 27.3202 23.6801 27.7102 23.2901L30.3002 20.6801C30.6902 20.2901 30.6902 19.6501 30.2902 19.2601L29.3002 18.2901C29.1002 18.1001 28.8502 18.0001 28.5902 18.0001ZM15.0002 23.0001C13.3502 23.0001 12.0002 21.6501 12.0002 20.0001C12.0002 18.3501 13.3502 17.0001 15.0002 17.0001C16.6502 17.0001 18.0002 18.3501 18.0002 20.0001C18.0002 21.6501 16.6502 23.0001 15.0002 23.0001Z",fill:"white"})],-1),w=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"帳戶安全",-1),v=Object(n["j"])("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(n["j"])("circle",{cx:"20",cy:"20",r:"20",fill:"#172A39"}),Object(n["j"])("path",{d:"M20 30H13C11.89 30 11 29.1 11 28L11.01 14C11.01 12.9 11.89 12 13 12H14V11C14 10.45 14.45 10 15 10C15.55 10 16 10.45 16 11V12H24V11C24 10.45 24.45 10 25 10C25.55 10 26 10.45 26 11V12H27C28.1 12 29 12.9 29 14V20H27V18H13V28H20V30ZM30.13 24.99L30.84 24.28C31.23 23.89 31.23 23.26 30.84 22.87L30.13 22.16C29.74 21.77 29.11 21.77 28.72 22.16L28.01 22.87L30.13 24.99ZM29.42 25.7L24.41 30.71C24.23 30.89 23.97 31 23.71 31H22.5C22.22 31 22 30.78 22 30.5V29.29C22 29.02 22.11 28.77 22.29 28.58L27.3 23.57L29.42 25.7Z",fill:"white"})],-1),y=Object(n["j"])("span",{class:"fs-4 ms-2 align-middle text-secondary"},"預約中心",-1);function C(e,t,a,o,s,C){var x=this,L=Object(n["K"])("router-link");return Object(n["C"])(),Object(n["i"])("div",c,[Object(n["j"])("div",i,[Object(n["j"])("label",r,[s.image?(Object(n["C"])(),Object(n["i"])("img",{key:1,name:"file",class:"rounded rounded-pill mug-shot-md",src:s.image,alt:"民眾照片",width:"200",height:"200"},null,8,d)):(Object(n["C"])(),Object(n["i"])("img",l))]),Object(n["j"])("input",{class:"d-none",type:"file",id:"photo-upload",ref:"peoplePhoto",onChange:t[0]||(t[0]=function(){return C.uploadFile&&C.uploadFile.apply(C,arguments)})},null,544)]),Object(n["j"])("div",b,[u,Object(n["j"])("h3",m,Object(n["O"])(s.peopleData.lastName)+Object(n["O"])(s.peopleData.firstName),1),Object(n["m"])(L,{to:{name:"PeopleFocus"},class:"text-secondary"},{default:Object(n["Y"])((function(){return[j,Object(n["j"])("span",p,"("+Object(n["O"])(x.peopleData.collection)+")",1)]})),_:1})]),Object(n["j"])("ul",f,[Object(n["j"])("li",null,[Object(n["m"])(L,{class:"d-block px-2 py-4 border-bottom border-2",to:{name:"PeopleEditPage"}},{default:Object(n["Y"])((function(){return[h,O]})),_:1})]),Object(n["j"])("li",null,[Object(n["m"])(L,{class:"d-block px-2 py-4 border-bottom border-2",to:{name:"PeoplePasswordSetting"}},{default:Object(n["Y"])((function(){return[g,w]})),_:1})]),Object(n["j"])("li",null,[Object(n["m"])(L,{class:"d-block px-2 py-4 border-bottom border-2",to:{name:"PeopleAppointmentCenter"}},{default:Object(n["Y"])((function(){return[v,y]})),_:1})])])])}a("b0c0"),a("c1f9");var x=a("9870"),L={data:function(){return{peopleData:{},image:""}},mounted:function(){this.getDeta(),this.getPhotoData()},methods:{getPhotoData:function(){var e=this;Object(x["s"])().then((function(t){console.log(t.data),e.image=t.data.shot})).catch((function(e){console.log(e)}))},getDeta:function(){var e=this;Object(x["u"])().then((function(t){e.peopleData=t.data,e.presetDataStatus(t)})).catch((function(e){console.error(e)}))},presetDataStatus:function(e){null===this.peopleData.firstName&&null===this.peopleData.lastName&&(this.peopleData.firstName="尚未填寫名稱",this.peopleData.lastName="")},uploadFile:function(e){var t=this,a=e.target.files.item(0),n=new FileReader;/\.(jpe?g|png|gif)$/i.test(a.name)&&(n.addEventListener("load",(function(e){t.image=e.target.result})),n.readAsDataURL(a),this.onSubmit())},onSubmit:function(){var e=new FormData;e.append("file",this.$refs.peoplePhoto.files[0]),console.log(Object.fromEntries(e));var t=localStorage.getItem("lawavaToken");this.axios({method:"put",url:"https://lawave.rocket-coding.com/mem/shotPhoto",data:e,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}}).then((function(e){console.log(e.data)})).catch((function(e){window.showToast.showErrorToast(e.response.data.Message)}))}}},M=a("6b0d"),k=a.n(M);const D=k()(L,[["render",C]]);t["a"]=D},"99af":function(e,t,a){"use strict";var n=a("23e7"),o=a("d039"),s=a("e8b5"),c=a("861d"),i=a("7b0b"),r=a("07fa"),l=a("8418"),d=a("65f0"),b=a("1dde"),u=a("b622"),m=a("2d00"),j=u("isConcatSpreadable"),p=9007199254740991,f="Maximum allowed index exceeded",h=m>=51||!o((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),O=b("concat"),g=function(e){if(!c(e))return!1;var t=e[j];return void 0!==t?!!t:s(e)},w=!h||!O;n({target:"Array",proto:!0,forced:w},{concat:function(e){var t,a,n,o,s,c=i(this),b=d(c,0),u=0;for(t=-1,n=arguments.length;t<n;t++)if(s=-1===t?c:arguments[t],g(s)){if(o=r(s),u+o>p)throw TypeError(f);for(a=0;a<o;a++,u++)a in s&&l(b,u,s[a])}else{if(u>=p)throw TypeError(f);l(b,u++,s)}return b.length=u,b}})},a9e3:function(e,t,a){"use strict";var n=a("83ab"),o=a("da84"),s=a("94ca"),c=a("6eeb"),i=a("1a2d"),r=a("7156"),l=a("d9b5"),d=a("c04e"),b=a("d039"),u=a("241c").f,m=a("06cf").f,j=a("9bf2").f,p=a("408a"),f=a("58a8").trim,h="Number",O=o[h],g=O.prototype,w=function(e){var t=d(e,"number");return"bigint"===typeof t?t:v(t)},v=function(e){var t,a,n,o,s,c,i,r,b=d(e,"number");if(l(b))throw TypeError("Cannot convert a Symbol value to a number");if("string"==typeof b&&b.length>2)if(b=f(b),t=b.charCodeAt(0),43===t||45===t){if(a=b.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(b.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+b}for(s=b.slice(2),c=s.length,i=0;i<c;i++)if(r=s.charCodeAt(i),r<48||r>o)return NaN;return parseInt(s,n)}return+b};if(s(h,!O(" 0o1")||!O("0b1")||O("+0x1"))){for(var y,C=function(e){var t=arguments.length<1?0:O(w(e)),a=this;return a instanceof C&&b((function(){p(a)}))?r(Object(t),a,C):t},x=n?u(O):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),L=0;x.length>L;L++)i(O,y=x[L])&&!i(C,y)&&j(C,y,m(O,y));C.prototype=g,g.constructor=C,c(o,h,C)}},ad6d:function(e,t,a){"use strict";var n=a("825a");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c1f9:function(e,t,a){var n=a("23e7"),o=a("2266"),s=a("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,a){s(t,e,a)}),{AS_ENTRIES:!0}),t}})},feea:function(e,t,a){"use strict";var n=a("7a23"),o={class:"mb-7 bg-primary d-block d-md-none"},s={class:"d-flex justify-content-around align-items-center center-nav"},c={key:0,class:"py-3"},i=Object(n["l"])(" 資格認證 "),r=Object(n["j"])("span",{class:"material-icons align-top"}," warning ",-1),l=[i,r],d={class:"py-3"},b={class:"py-3"},u={class:"py-3"};function m(e,t,a,i,r,m){return Object(n["C"])(),Object(n["i"])("div",o,[Object(n["j"])("ul",s,[r.isLawyer?(Object(n["C"])(),Object(n["i"])("li",c,[Object(n["j"])("a",{href:"#",onClick:t[0]||(t[0]=Object(n["bb"])((function(e){return m.goMemberPage("certification")}),["prevent"]))},l)])):Object(n["h"])("",!0),Object(n["j"])("li",d,[Object(n["j"])("a",{href:"#",onClick:t[1]||(t[1]=Object(n["bb"])((function(e){return m.goMemberPage("editPage")}),["prevent"]))}," 個人資料 ")]),Object(n["j"])("li",b,[Object(n["j"])("a",{href:"#",onClick:t[2]||(t[2]=Object(n["bb"])((function(e){return m.goMemberPage("passwordSetting")}),["prevent"]))}," 帳戶安全 ")]),Object(n["j"])("li",u,[Object(n["j"])("a",{href:"#",onClick:t[3]||(t[3]=Object(n["bb"])((function(e){return m.goMemberPage("appointmentCenter")}),["prevent"]))}," 預約中心 ")])])])}var j=a("9870"),p={data:function(){return{isLawyer:!1}},created:function(){this.goMemberPage()},methods:{goMemberPage:function(e){var t=this;Object(j["d"])().then((function(a){switch(t.isLawyer=a.data.isLawyer,e){case"center":!0===t.isLawyer?t.$router.push({name:"LawyerCenter"}):t.$router.push({name:"PeopleCenter"});break;case"appointmentCenter":!0===t.isLawyer?t.$router.push({name:"LawyerAppointmentCenter"}):t.$router.push({name:"PeopleAppointmentCenter"});break;case"passwordSetting":!0===t.isLawyer?t.$router.push({name:"LawyerPasswordSetting"}):t.$router.push({name:"PeoplePasswordSetting"});break;case"editPage":!0===t.isLawyer?t.$router.push({name:"LawyerEditPage"}):t.$router.push({name:"PeopleEditPage"});break;case"certification":t.$router.push({name:"LawyerCertification"});break}})).catch((function(e){console.error(e)}))}}},f=a("6b0d"),h=a.n(f);const O=h()(p,[["render",m]]);t["a"]=O}}]);
//# sourceMappingURL=chunk-07117728.b7a1877e.js.map